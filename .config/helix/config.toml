# ====================== CONFIG ======================

theme = 'blight'

[editor]
shell = ['fish', '-c']

idle-timeout = 100

mouse = true
middle-click-paste = false

true-color = true
undercurl = true
color-modes = true
line-number = 'relative'
gutters = ['spacer', 'diff']
scrolloff = 15
text-width = 120

jump-label-alphabet = 'shtareniwfdolubjcpmxqgyzvk'

completion-timeout = 5
completion-trigger-len = 1

auto-info = false
auto-pairs = false
continue-comments = false

trim-final-newlines = true
trim-trailing-whitespace = true

[editor.inline-diagnostics]
cursor-line = 'hint'
other-lines = 'disable'

[editor.statusline]
diagnostics = ['hint', 'warning', 'error']
workspace-diagnostics = ['hint', 'warning', 'error']

left = ['file-name', 'diagnostics', 'file-modification-indicator', 'spacer']
right = ['spinner', 'spacer', 'selections', 'primary-selection-length', 'position', 'total-line-numbers']

[editor.soft-wrap]
wrap-indicator = '↪ '
max-indent-retain = 0

[editor.whitespace.characters]
newline = '↩'

[editor.file-picker]
hidden = false

[editor.lsp]
snippets = false
auto-signature-help = false
display-progress-messages = true

[editor.smart-tab]
enable = true

# =============== KEYBINDINGS (NORMAL) ===============

[keys.normal]
A-k = 'signature_help'

ret = 'goto_word'

x = 'select_line_below'
X = 'select_line_above'

tab = 'move_parent_node_end'
S-tab = 'move_parent_node_start'

S-up = ['extend_to_line_bounds', 'delete_selection', 'move_line_up', 'paste_before']
S-down = ['extend_to_line_bounds', 'delete_selection', 'paste_after']

C-d = ['page_cursor_half_down', 'align_view_center']
C-u = ['page_cursor_half_up', 'align_view_center']

C-pagedown = ':buffer-next'
C-pageup = ':buffer-previous'

A-e = 'move_next_sub_word_end'
A-w = 'move_next_sub_word_start'
A-b = 'move_prev_sub_word_start'

C-up = 'jump_view_up'
C-down = 'jump_view_down'
C-left = 'jump_view_left'
C-right = 'jump_view_right'

C-S-up = 'swap_view_up'
C-S-left = 'swap_view_left'
C-S-down = 'swap_view_down'
C-S-right = 'swap_view_right'

[keys.normal.backspace]
backspace = ':buffer-close'
o = ':buffer-close-others'

[keys.normal.C-y]
y = ':sh wezterm cli split-pane --bottom -- ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") open > /dev/null'
Y = ':sh wezterm cli split-pane ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") open zoom > /dev/null'

v = ':sh wezterm cli split-pane --bottom -- ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") vsplit > /dev/null'
V = ':sh wezterm cli split-pane ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") vsplit zoom > /dev/null'

s = ':sh wezterm cli split-pane --bottom -- ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") hsplit > /dev/null'
S = ':sh wezterm cli split-pane ~/.config/helix/scripts/yazi-picker.sh $(wezterm cli list-clients | awk "NR==2{print $7}") hsplit zoom > /dev/null'

# =============== KEYBINDINGS (SELECT) ===============

[keys.select]
ret = 'goto_word'

x = 'select_line_below'
X = 'select_line_above'

tab = 'extend_parent_node_end'
S-tab = 'extend_parent_node_start'

S-up = ['extend_to_line_bounds', 'delete_selection', 'move_line_up', 'paste_before']
S-down = ['extend_to_line_bounds', 'delete_selection', 'paste_after']

C-d = ['page_cursor_half_down', 'align_view_center']
C-u = ['page_cursor_half_up', 'align_view_center']

# =============== KEYBINDINGS (INSERT) ===============

[keys.insert]
A-k = 'signature_help'

S-tab = 'move_parent_node_start'

up = 'no_op'
down = 'no_op'
left = 'no_op'
right = 'no_op'
pageup = 'no_op'
pagedown = 'no_op'
home = 'no_op'
end = 'no_op'

# =============== KEYBINDINGS (CONFIG) ===============

[keys.normal.h]
r = ':config-reload'
c = ':open ~/.config/helix/config.toml'
l = ':open ~/.config/helix/languages.toml'

h = ':toggle-option lsp.display-inlay-hints'
w = ':toggle-option whitespace.render all none'
g = ':toggle-option indent-guides.render'
f = ':toggle-option auto-format'

s = ':set soft-wrap.enable true'
S = ':set soft-wrap.enable false'

t = ':set soft-wrap.wrap-at-text-width true'
T = ':set soft-wrap.wrap-at-text-width false'

'i' = ':set rulers [120]'
'I' = ':set rulers []'

[keys.normal.l]
r = ':lsp-restart'
c = ':lsp-workspace-command'
s = ':lsp-stop'
